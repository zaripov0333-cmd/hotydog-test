<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>HOTY DOG HR Portal</title>

<style>
body{
margin:0;
font-family:'Segoe UI',sans-serif;
background:#FFD43B;
}

.header{
text-align:center;
padding:40px 10px;
font-size:48px;
font-weight:900;
color:#ff6a00;
letter-spacing:3px;
}

.container{
max-width:900px;
margin:auto;
padding:20px;
}

.card{
background:white;
padding:30px;
border-radius:25px;
box-shadow:0 20px 50px rgba(0,0,0,0.2);
margin-top:20px;
animation:fadeIn 0.8s ease;
}

@keyframes fadeIn{
from{opacity:0;transform:translateY(20px);}
to{opacity:1;}
}

button{
padding:15px 30px;
margin:10px;
border:none;
border-radius:30px;
font-size:18px;
cursor:pointer;
background:#ff6a00;
color:white;
transition:0.3s;
}

button:hover{
transform:scale(1.05);
background:#ff8800;
}

.option{
display:flex;
align-items:center;
margin:10px 0;
padding:12px;
border-radius:15px;
cursor:pointer;
transition:0.3s;
}

.option:hover{
background:#fff3e0;
}

.circle{
width:35px;
height:35px;
border-radius:50%;
background:#ff6a00;
color:white;
display:flex;
align-items:center;
justify-content:center;
margin-right:10px;
font-weight:bold;
}

input[type="text"], input[type="tel"]{
width:95%;
padding:12px;
margin:10px 0;
border-radius:15px;
border:1px solid #ccc;
}

.hidden{
display:none;
}
</style>
</head>

<body>

<div class="header">
HOTY DOG HR SYSTEM
</div>

<div class="container">

<div id="home" class="card" style="text-align:center;">
<h2>Lavozimni tanlang</h2>
<button onclick="startTest('Повар')">Повар</button>
<button onclick="startTest('Менеджер')">Менеджер</button>
<button onclick="startTest('Директор')">Директор</button>
</div>

<div id="test" class="hidden card">
<h3 id="roleTitle"></h3>

<p><b>1. FIFO nima?</b></p>
<label class="option"><div class="circle">A</div>
<input type="radio" name="q1" value="0"> maxsulotlar qushnichigi</label>
<label class="option"><div class="circle">B</div>
<input type="radio" name="q1" value="0"> maxsulotlar tami</label>
<label class="option"><div class="circle">C</div>
<input type="radio" name="q1" value="0"> Togri javob yuq</label>
<label class="option"><div class="circle">D</div>
<input type="radio" name="q1" value="2"> Birinchi kelgan mahsulot birinchi ketadi</label>

<hr>

<p><b>2. Mijoz hotdog sovib qoldi desa nima qilasiz?</b></p>
<label class="option"><div class="circle">A</div>
<input type="radio" name="q2" value="0"> E'tibor bermayman</label>
<label class="option"><div class="circle">B</div>
<input type="radio" name="q2" value="2"> Qayta tayyorlab beraman</label>
<label class="option"><div class="circle">C</div>
<input type="radio" name="q2" value="0"> Tashvish tugmasini bosaman</label>
<label class="option"><div class="circle">D</div>
<input type="radio" name="q2" value="0"> Togri javob yuq</label>

<hr>

<p><b>3. Sousnitsada ketchup saqlash muddati?</b></p>
<label class="option"><div class="circle">A</div>
<input type="radio" name="q3" value="2"> 48</label>
<label class="option"><div class="circle">B</div>
<input type="radio" name="q3" value="0"> 12</label>
<label class="option"><div class="circle">C</div>
<input type="radio" name="q3" value="0"> 60</label>
<label class="option"><div class="circle">D</div>
<input type="radio" name="q3" value="0"> 6</label>

<div style="text-align:center;">
<button onclick="finishTest()">Testni yakunlash</button>
</div>
</div>

<div id="resultForm" class="hidden card">
<h3>Ma'lumotlaringizni kiriting</h3>
<input type="text" id="name" placeholder="Ism">
<input type="text" id="surname" placeholder="Familiya">
<input type="tel" id="phone" placeholder="Telefon raqam (+998...)">
<div style="text-align:center;">
<button onclick="saveResult()">Saqlash</button>
</div>
</div>

</div>

<script>
let totalScore = 0;
let currentRole = "";

const sheetURL = "https://script.google.com/macros/s/AKfycbxtnfZ3uyX9OQoUPeKj3L1vVanMsc9HF9qqDOp3kqw3hZIYfwPaWZ-enZzVsbS7MiZ4/exec";

function startTest(role){
currentRole = role;
document.getElementById("home").classList.add("hidden");
document.getElementById("test").classList.remove("hidden");
document.getElementById("roleTitle").innerText = role + " testi";
}

function finishTest(){
let q1 = document.querySelector('input[name="q1"]:checked');
let q2 = document.querySelector('input[name="q2"]:checked');
let q3 = document.querySelector('input[name="q3"]:checked');

if(!q1 || !q2 || !q3){
alert("Hammasini belgilang!");
return;
}

totalScore = Number(q1.value)+Number(q2.value)+Number(q3.value);

document.getElementById("test").classList.add("hidden");
document.getElementById("resultForm").classList.remove("hidden");
}

function saveResult(){
let name=document.getElementById("name").value;
let surname=document.getElementById("surname").value;
let phone=document.getElementById("phone").value;

if(name==""||surname==""||phone==""){
alert("Barcha maydonlarni to'ldiring!");
return;
}

if(totalScore > 4){

fetch(sheetURL,{
method:"POST",
headers:{
"Content-Type":"application/json"
},
body:JSON.stringify({
name:name,
surname:surname,
phone:phone,
role:currentRole,
score:totalScore
})
});

alert("Tabriklaymiz! Siz testdan o'tdingiz.");
}
else{
alert("Afsuski 4 balldan past natija. Ma'lumot yuborilmadi.");
}

location.reload();
}
</script>

</body>
</html>
